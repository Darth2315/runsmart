window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".carousel"),t=document.querySelectorAll(".carousel__slide"),l=document.querySelector(".carousel__next"),n=document.querySelector(".carousel__prev"),o=document.querySelector(".carousel__wrapper"),c=document.querySelector(".carousel__inner"),a=window.getComputedStyle(o).width;let s=1,r=0;c.style.width=100*t.length+"%",t.forEach(e=>{e.style.width=a});const d=document.createElement("ol");d.classList.add("carousel__indicators"),e.append(d);let i=[];for(let e=0;e<t.length;e++){const t=document.createElement("li");t.classList.add("carousel__dot"),t.setAttribute("data-slide-to",e+1),d.append(t),0==e&&(t.style.opacity=1),i.push(t)}function u(){i.forEach(e=>e.style.opacity=".5"),i[s-1].style.opacity=1}function m(){r==+a.slice(0,a.length-2)*(t.length-1)?r=0:r+=+a.slice(0,a.length-2),c.style.transform=`translateX(-${r}px)`,s==t.length?s=1:s++,u()}function y(){0==r?r=+a.slice(0,a.length-2)*(t.length-1):r-=+a.slice(0,a.length-2),c.style.transform=`translateX(-${r}px)`,1==s?s=t.length:s--,u()}i.forEach(e=>{e.addEventListener("click",e=>{const t=e.target.getAttribute("data-slide-to");s=t,r=+a.slice(0,a.length-2)*(t-1),c.style.transform=`translateX(-${r}px)`,u()})}),l.addEventListener("click",()=>{m()}),n.addEventListener("click",()=>{y()}),t.forEach(e=>{e.addEventListener("touchstart",e=>{e.preventDefault();const t=e.targetTouches[0];var l=Math.floor(screen.width/2);t.pageX<l?y():m()})});const f=document.querySelectorAll(".catalog__content"),h=document.querySelector(".catalog__tabs"),g=document.querySelectorAll(".catalog__tab");function p(){f.forEach(e=>{e.style.display="none"}),g.forEach(e=>{e.classList.remove("catalog__tab_active")})}function _(e=0){f[e].style.display="flex",g[e].classList.add("catalog__tab_active")}p(),_(),h.addEventListener("click",e=>{const t=e.target;t&&t.closest(".catalog__tab")&&g.forEach((e,l)=>{t!=e&&t.parentElement!=e||(p(),_(l))})});const v=document.querySelectorAll(".catalog-item__link"),L=document.querySelectorAll(".catalog-item__content"),E=document.querySelectorAll(".catalog-item__list"),S=document.querySelectorAll(".catalog-item__back");function q(e){e.forEach((e,t)=>{e.addEventListener("click",e=>{e.preventDefault(),L[t].classList.toggle("catalog-item__content_active"),E[t].classList.toggle("catalog-item__list_active")})})}q(v),q(S);const w=document.querySelector(".overlay"),b=document.querySelector("#consultation"),A=document.querySelector("#order"),x=document.querySelector("#thanks"),k=document.querySelectorAll("[data-modal=consultation]"),D=document.querySelectorAll(".catalog .button"),C=document.querySelectorAll(".modal__close"),I=document.querySelectorAll("#order .modal__descr"),T=document.querySelectorAll(".catalog-item__subtitle");let O=function(){const e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflowY="scroll",e.style.visibility="hidden",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return e.remove(),t}();function R(e){e.classList.remove("fadeOut"),w.classList.remove("fadeOut"),w.classList.add("fadeIn"),e.classList.add("fadeIn"),w.style.display="block",e.style.display="block",document.body.style.marginRight=`${O}px`,document.body.style.overflow="hidden",W.style.right=`${40+O}px`}function M(e){e.classList.remove("fadeIn"),w.classList.remove("fadeIn"),e.classList.add("fadeOut"),w.classList.add("fadeOut"),document.body.style.overflow="",document.body.style.marginRight="0px",W.style.right="",setTimeout(()=>{w.style.display="none",e.style.display="none"},500)}function Q(e,t){e.forEach((e,l)=>{e.addEventListener("click",()=>{if(R(t),e.classList.contains("button_mini")){const e=T[l].textContent;I.forEach(t=>{t.textContent=e})}})})}function $(e,t){e.forEach(e=>{e.addEventListener("click",()=>{M(t)})})}function X(e){document.addEventListener("keydown",t=>{"Escape"===t.code&&"block"===e.style.display&&M(e)})}function Y(e){w.addEventListener("click",t=>{t.target===w&&M(e)})}Q(k,b),Q(D,A),$(C,b),$(C,A),X(b),X(A),Y(b),Y(A),Y(x);const F=document.querySelectorAll("form"),P=document.querySelectorAll("input"),z=document.querySelectorAll('input[name="phone"]'),B=(document.querySelectorAll('input[name="name"]'),"../img/spinner.svg"),G="Щось пішло не так...";F.forEach(e=>{e.addEventListener("submit",t=>{t.preventDefault();const l=document.createElement("img");l.src=B,l.classList.add("modal__spinner"),e.appendChild(l),(async(e,t)=>{let l=await fetch(e,{method:"POST",body:t});return await l.text()})("mailer/smart.php",new FormData(e)).then(e=>{console.log(e),R(x)}).catch(()=>x.textContent=G).finally(()=>{P.forEach(e=>{e.value=""}),l.remove(),b.style.display="none",A.style.display="none",setTimeout(()=>{M(x)},5e3)})})});let N=(e,t)=>{if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let l=t.createTextRange();l.collapse(!0),l.moveEnd("character",e),l.moveStart("character",e),l.select()}};function U(e){let t="+38 (0__) ___ __ __",l=0,n=t.replace(/\D/g,""),o=this.value.replace(/\D/g,"");n.length>o.length&&(o=n),this.value=t.replace(/./g,function(e){return/[_\d]/.test(e)&&l<o.length?o.charAt(l++):l>=o.length?"":e}),"blur"===e.type?2==this.value.length&&(this.value=""):N(this.value.length,this)}z.forEach(e=>{e.addEventListener("input",U),e.addEventListener("blur",U),e.addEventListener("focus",U)});const W=document.querySelector(".pageup");window.addEventListener("scroll",()=>{document.documentElement.scrollTop>1600?(W.classList.add("fadeIn"),W.classList.remove("fadeOut"),W.style.display="block"):(W.classList.add("fadeOut"),W.classList.remove("fadeIn"),W.style.display="none")});const H=document.querySelectorAll('[href^="#"]'),J=.3;H.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();let t=document.documentElement.scrollTop,l=this.hash,n=document.querySelector(l).getBoundingClientRect().top,o=null;requestAnimationFrame(function e(l){null===o&&(o=l);let c=l-o,a=n<0?Math.max(t-c/J,t+n):Math.min(t+c/J,t+n);document.documentElement.scrollTo(0,a);a!=t+n&&requestAnimationFrame(e)})})}),window.addEventListener("scroll",()=>{const e=document.querySelectorAll(".reviews__item"),t=document.querySelector(".reviews");window.scrollY>t.offsetTop-600?(console.log("You've scrolled to reviews section"),e.forEach((e,t)=>{e.classList.add("fadeInUp"),e.classList.add("fadeIn"),e.style.animationDuration=`${t+=1}s`})):e.forEach(e=>{e.classList.remove("fadeInUp"),e.classList.remove("fadeIn"),e.style.animationDuration=""})}),function(){const e=document.querySelector(".footer"),t=document.createElement("div");t.innerHTML='\n        <iframe class="footer__iframe" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d10143.233810119555!2d30.60063889766774!3d50.53773388619132!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x40d4d13e7ca501f9%3A0xc74c61c8ec57a63f!2z0YPQuy4g0JzQuNC70L7RgdC70LDQstGB0LrQsNGPLCAyLCDQmtC40LXQsiwgMDIwMDA!5e0!3m2!1sru!2sua!4v1605970184413!5m2!1sru!2sua" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>\n        ',e.append(t)}()});